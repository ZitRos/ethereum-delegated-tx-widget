{"version":3,"sources":["const/ethereum.js","const/backends.js","const/apis.js","utils/http.js","utils/ethereum.js","const/react-messages.js","utils/state.js","state/state.js","state/reactions/back-end-request.js","state/reactions/back-end-response.js","state/reactions/update-token-meta.js","state/reactions/back-end-polling.js","state/reactions/misc.js","state/init.js","components/TransferArrow/index.js","components/TokenLogo/index.js","components/WarningIcon/index.js","components/InfoIcon/index.js","components/Button/index.js","modules/ethereum/provider.js","App.js","serviceWorker.js","index.js"],"names":["UNKNOWN_NETWORK","Object","freeze","chainId","name","NETWORK_BY_CHAIN_ID","1","ensAddress","3","2","4","5","42","61","62","DELEGATED_TX_BACK_ENDS","INFURA_PUBLIC_API_KEY","httpRequest","url","a","method","data","undefined","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onload","readyState","status","JSON","parse","responseText","parsed","error","e","onerror","send","stringify","httpGet","httpPost","formatEthereumAddress","address","slice","formatTokenValue","value","decimals","toString","test","pow","match","replace","padEnd","padStart","substring","length","substr","ethCall","networkName","contractAddress","functionSignature","id","jsonrpc","params","utils","to","response","result","signData","state","standard","provider","ethersProvider","currentEthereumAccount","res","WARNING_NO_WEB3","target","rel","href","WARNING_WRONG_NETWORK","targetNetwork","currentNetwork","WARNING_UNKNOWN_NETWORK","network","WARNING_CUSTOM_MESSAGE","message","WARNING_UNABLE_TO_CONNECT_WEB3","WARNING_WRONG_URL_PARAMETER","WARNING_BACK_END_ERROR","WARNING_BACK_END_INVALID_RESPONSE","INFO_PLEASE_SIGN","INFO_PROCESSING","getBackEndContracts","backEndsByContractReadOnly","filter","b","networkChainId","selectedNetwork","observable","selectedNetworkNameReadOnly","globalInfoMessage","globalWarningMessage","initWarningMessage","networkWarningMessage","backendWarningMessage","contractSymbolReadOnly","contractDecimalsReadOnly","functionName","functionArguments","backEndsMeta","approvedDelegationRequest","approvedDelegationResponse","delegationConfirmationRequestPending","find","targetNetworks","map","join","WARNING_SUPPORTED_CONTRACT_WRONG_NETWORK","Array","from","Set","c","console","log","backEndRequested","observe","action","warningMessageReadOnly","backEndErrors","all","meta","functions","f","warn","signer","push","request","signatureOptions","runInAction","r","responses","bestBackEnd","reduce","best","be","fee","assign","toJS","signatureOptionsPriority","signOptionsByPriority","sort","o1","o2","indexOf","signature","signatureStandard","signOption","pop","dataToSign","signatureStandards","o","requestId","loadTokenMeta","symbol","parseBytes32String","parseInt","info","pollingInterval","updateFromBackEnd","actualStatus","clearInterval","txHash","key","INFO_WAIT_FOR_TRANSACTION","transactionHash","setInterval","INFO_TRANSACTION_MINED","window","location","search","values","net","split","backEndsReady","addBackEnds","backEnd","contracts","contractBackEnd","concat","interval","TransferArrow","className","TokenLogo","props","tokenAddress","assetUrl","src","alt","WarningIcon","version","xmlns","x","y","width","height","viewBox","fill","d","InfoIcon","Button","loading","rest","children","wrapEthersProvider","web3Provider","reportStatus","getWeb3Provider","providers","Web3Provider","currentProvider","ethereum","web3","Web3","enable","Error","getContractNetworks","isCurrentNetworkTarget","isButtonActive","App","tick","accountUpdateTimeout","tickerInterval","ticker","setState","updateFromProvider","listAccounts","account","rej","getNetwork","setTimeout","contractsInOtherNetworks","componentDidMount","actionButtonClick","clearTimeout","this","sender","recipient","Math","warning","isLoading","expiresIn","Date","expiresAt","getTime","now","getTimezoneOffset","toTimeString","disabled","onClick","React","PureComponent","observer","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c8f15709.chunk.js","sourcesContent":["export const UNKNOWN_NETWORK = Object.freeze({\n  chainId: -1,\n  name: 'unknown-network'\n});\n\nexport const NETWORK_BY_CHAIN_ID = {\n  1: {\n    chainId: 1,\n    ensAddress: '0x314159265dd8dbb310642f98f50c066173c1259b',\n    name: 'homestead'\n  },\n  3: {\n    chainId: 3,\n    ensAddress: '0x112234455c3a32fd11230c42e7bccd4a84e02010',\n    name: 'ropsten'\n  },\n  2: {\n    chainId: 2,\n    name: 'morden'\n  },\n  4: {\n    chainId: 4,\n    ensAddress: '0xe7410170f87102DF0055eB195163A03B7F2Bff4A',\n    name: 'rinkeby'\n  },\n  5: {\n    chainId: 5,\n    ensAddress: '0x112234455c3a32fd11230c42e7bccd4a84e02010',\n    name: 'goerli'\n  },\n  42: {\n    chainId: 42,\n    name: 'kovan'\n  },\n  61: {\n    chainId: 61,\n    name: 'classic'\n  },\n  62: {\n    chainId: 62,\n    name: 'classicTestnet'\n  }\n};\n","// The widget will try to get metadata from all back ends listed here.\nexport const DELEGATED_TX_BACK_ENDS = [\n  'http://localhost:8088',\n  'https://dapp.ml/delegated-tx'\n];\n","export const INFURA_PUBLIC_API_KEY = '26330e580e9d49ffb91482c15a92e86a';\n","async function httpRequest(url, method = 'GET', data = undefined) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (data) {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n    }\n    xhr.onload = () => {\n      if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {\n        resolve(JSON.parse(xhr.responseText));\n      } else {\n        if (!xhr.responseText) {\n          reject(`HTTPCODE ${xhr.status}`);\n          return;\n        }\n        try {\n          const parsed = JSON.parse(xhr.responseText);\n          reject(\n            (parsed && (parsed.error || parsed)) ||\n              `HTTPCODE ${xhr.status}, ${xhr.responseText}`\n          );\n          return;\n        } catch (e) {\n          reject(xhr.responseText);\n        }\n      }\n    };\n    xhr.onerror = reject;\n    xhr.send(data && JSON.stringify(data));\n  });\n}\n\nexport const httpGet = async url => httpRequest(url);\nexport const httpPost = async (url, data) => httpRequest(url, 'POST', data);\n","import { utils } from 'ethers';\nimport { httpPost } from './http';\nimport { INFURA_PUBLIC_API_KEY } from '../const';\n\nexport function formatEthereumAddress(address) {\n  if (!address) {\n    return '0x????..????';\n  }\n  return address.slice(0, 6) + '..' + address.slice(-4);\n}\n\nexport function formatTokenValue(value, decimals = 18) {\n  value = value.toString();\n  if (/e\\+[0-9]+$/.test(value)) {\n    const pow = +value.match(/[0-9]+$/)[0];\n    value = value.replace(/\\./, '').replace(/e\\+[0-9]+$/, '');\n    value = value.padEnd(1 + pow, '0');\n  }\n  value = value.padStart(decimals + 1, '0');\n  return (\n    value.substring(0, value.length - decimals) +\n    '.' +\n    value.substr(-decimals, 2)\n  );\n}\n\nexport function isValidEthereumAddress(address) {\n  return typeof address === 'string' && /0x[0-9a-f]{40}/i.test(address);\n}\n\nexport async function ethCall(networkName, contractAddress, functionSignature) {\n  const response = await httpPost(\n    `https://${networkName}.infura.io/v3/${INFURA_PUBLIC_API_KEY}`,\n    {\n      id: 42,\n      jsonrpc: '2.0',\n      method: 'eth_call',\n      params: [\n        {\n          data:\n            utils.id(functionSignature).slice(0, 10) +\n            '00000000000000000000000000000000000000000000000000000000',\n          to: contractAddress\n        },\n        'latest'\n      ]\n    }\n  );\n  return response.result;\n}\n\nexport async function signData(state, standard, data) {\n  const provider = state.ethersProvider;\n  try {\n    if (standard === 'eth_signTypedData') {\n      const res = await provider.send('eth_signTypedData', [\n        data,\n        state.currentEthereumAccount.toString()\n      ]);\n      return res;\n    } else if (standard === 'eth_personalSign') {\n      const res = await provider.send('eth_sign', [\n        data,\n        state.currentEthereumAccount.toString()\n      ]);\n      return res;\n    }\n  } catch (e) {\n    return '';\n  }\n}\n","import React from 'react';\nimport { formatEthereumAddress } from '../utils/ethereum';\n\nexport const WARNING_NO_WEB3 = (\n  <span>\n    In order to use this delegated transactions service, you need to browse this\n    page with{' '}\n    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://metamask.io\">\n      Metamask wallet\n    </a>{' '}\n    extension or from your{' '}\n    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://trustwallet.com\">\n      mobile wallet&apos;s\n    </a>{' '}\n    embedded DApp browser (if supported).\n  </span>\n);\n\nexport const WARNING_WRONG_NETWORK = (targetNetwork, currentNetwork) => (\n  <span>\n    Please, switch your wallet to{' '}\n    <strong>\n      {targetNetwork === 'homestead' ? 'mainnet' : targetNetwork} network\n    </strong>{' '}\n    (it is currently on {currentNetwork} network).\n  </span>\n);\n\nexport const WARNING_UNKNOWN_NETWORK = network => (\n  <span>\n    Unknown network selected in your wallet ({network}). Please, switch to main\n    network or known testnets (ropsten/kovan)\n  </span>\n);\n\nexport const WARNING_CUSTOM_MESSAGE = message => <span>{message}</span>;\n\nexport const WARNING_UNABLE_TO_CONNECT_WEB3 = message => (\n  <span>Unable to connect to your wallet. {message}</span>\n);\n\nexport const WARNING_WRONG_URL_PARAMETER = (name, value) => (\n  <span>\n    Configuration error: unknown or wrong URL parameter &quot;{name}\n    &quot;=&quot;{value}&quot;.\n  </span>\n);\n\nexport const WARNING_CONTRACT_NOT_SUPPORTED = contractAddress => (\n  <span>\n    There is no back end for contract {formatEthereumAddress(contractAddress)}{' '}\n    found which supports delegated transactions. If this contract indeed\n    supports delegated transactions, you may add it by contributing to{' '}\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href=\"https://github.com/ZitRos/ethereum-delegated-tx-widget\"\n    >\n      this project\n    </a>\n    .\n  </span>\n);\n\nexport const WARNING_SUPPORTED_CONTRACT_WRONG_NETWORK = (\n  currentNetwork,\n  targetNetworks = []\n) => (\n  <span>\n    Configured back ends support only{' '}\n    <strong>\n      {targetNetworks\n        .map(targetNetwork =>\n          targetNetwork === 'homestead' ? 'mainnet' : targetNetwork\n        )\n        .join(' or ')}\n    </strong>{' '}\n    network{targetNetworks.length > 1 ? 's' : ''} for this contract. Please,{' '}\n    switch your wallet to {targetNetworks.length > 1 ? 'these' : 'this'} network\n    {targetNetworks.length > 1 ? 's' : ''} (it is currently on {currentNetwork}{' '}\n    network).\n  </span>\n);\n\nexport const WARNING_BACK_END_ERROR = (url, res) => (\n  <span>\n    Delegated back end {url} error: {res}\n  </span>\n);\n\nexport const WARNING_BACK_END_INVALID_RESPONSE = (url, res) => (\n  <span>\n    Delegated back end {url} invalid response: {res}\n  </span>\n);\n\nexport const WARNING_CONFIRMATION_BACK_END_ERROR = (url, message) => (\n  <span>\n    Unable to confirm delegated request. Delegated back end {url} responds with\n    this error: {message}\n    <br />\n    <strong>\n      <u>Check your token balance and reload this page once refilled.</u>\n    </strong>\n  </span>\n);\n\nexport const WARNING_TRANSACTION_FAILED = requestId => (\n  <span>\n    Unfortunately, delegated transaction {requestId} has failed. This could\n    happen due to request expiration, network conditions or due to failing\n    delegated back end. However, you can retry.\n  </span>\n);\n\nexport const INFO_PLEASE_SIGN = (\n  <span>\n    Please, confirm the signature in your wallet. If nothing happens, try\n    re-opening your wallet.\n  </span>\n);\n\nexport const INFO_PLEASE_SIGN_AGAIN = signatureStandards => (\n  <span>\n    For some reason, we were unable to get a signature from you. Please, try\n    again. Available signature standards: {signatureStandards.join(', ')}\n  </span>\n);\n\nexport const INFO_PROCESSING = <span>Processing, please wait...</span>;\n\nexport const INFO_WAIT_FOR_TRANSACTION = (txHash, network = 'mainnet') => (\n  <span>\n    Your transaction{' '}\n    {txHash ? (\n      <span key=\"span-swan\">\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={`https://${network}.etherscan.io/tx/${txHash}`}\n        >\n          {formatEthereumAddress(txHash)}\n        </a>{' '}\n      </span>\n    ) : null}\n    is on its way! Please wait until it is mined, it might take some time.\n  </span>\n);\n\nexport const INFO_TRANSACTION_MINED = (txHash, network = 'mainnet') => (\n  <span>\n    Done! Your transaction is mined:{' '}\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`https://${network}.etherscan.io/tx/${txHash}`}\n    >\n      {formatEthereumAddress(txHash)}\n    </a>\n  </span>\n);\n","export const getBackEndContracts = state =>\n  (state.backEndsByContractReadOnly[state.contractAddress] &&\n    state.backEndsByContractReadOnly[state.contractAddress].length &&\n    state.backEndsByContractReadOnly[state.contractAddress].filter(\n      b => b.networkChainId === state.selectedNetwork.chainId\n    )) ||\n  [];\n","import { observable } from 'mobx';\nimport {\n  UNKNOWN_NETWORK,\n  NETWORK_BY_CHAIN_ID,\n  WARNING_NO_WEB3,\n  WARNING_CONTRACT_NOT_SUPPORTED,\n  WARNING_SUPPORTED_CONTRACT_WRONG_NETWORK\n} from '../const';\n\nconst state = observable({\n  currentEthereumAccount: '',\n  targetNetwork: NETWORK_BY_CHAIN_ID[1], // Default to mainnet\n  selectedNetwork: UNKNOWN_NETWORK, // Network currently selected by user\n  selectedNetworkNameReadOnly: UNKNOWN_NETWORK.name,\n  ethersProvider: null,\n\n  globalInfoMessage: null, // When set, displayed if warnings are empty\n  globalWarningMessage: null, // Displayed on top of all other warnings if set\n  initWarningMessage: WARNING_NO_WEB3,\n  networkWarningMessage: null,\n  backendWarningMessage: null,\n\n  contractAddress: '0x82f4ded9cec9b5750fbff5c2185aee35afc16587',\n  contractSymbolReadOnly: 'DREAM', // Updates automatically once `contractAddress` changes\n  contractDecimalsReadOnly: 6, // Updates automatically once `contractAddress` changes\n  functionName: 'transfer',\n  functionArguments: ['0xB3311c91d7c1B305DA3567C2320B716B13F24F8A', '9990000'],\n\n  backEndsMeta: [], // Metadata of all back ends collected from root endpoint. See ./init\n  backEndsByContractReadOnly: {}, // Map contract => [back end 1, back end 2, ...]. Computed within backEndsMeta\n\n  // Best back end response (where the fee is the lowest) + .meta with back end metadata (such as .meta.url)\n  approvedDelegationRequest: null, // Object - response of /request + .meta property (.meta.url)\n  approvedDelegationResponse: null, // Object - response of /response + .meta property (.meta.url)\n  delegationConfirmationRequestPending: false,\n\n  // Refer to this property to understand whether there are any warning messages\n  get warningMessageReadOnly() {\n    return (\n      state.globalWarningMessage ||\n      state.initWarningMessage ||\n      state.networkWarningMessage ||\n      state.backendWarningMessage ||\n      (!state.backEndsByContractReadOnly[state.contractAddress] &&\n        WARNING_CONTRACT_NOT_SUPPORTED(state.contractAddress)) ||\n      (!state.backEndsByContractReadOnly[state.contractAddress].find(\n        b => b.networkChainId === state.selectedNetwork.chainId\n      ) && // Nado eshe podymat'\n        WARNING_SUPPORTED_CONTRACT_WRONG_NETWORK(\n          state.selectedNetwork.name,\n          Array.from(\n            new Set(\n              state.backEndsByContractReadOnly[state.contractAddress].map(\n                c => c.networkName\n              )\n            )\n          )\n        ))\n    );\n  }\n});\n\nconsole.log('state', state);\n\nexport default state;\n","import { observe, action, runInAction, toJS } from 'mobx';\nimport {\n  WARNING_BACK_END_ERROR,\n  WARNING_BACK_END_INVALID_RESPONSE\n} from '../../const';\nimport { getBackEndContracts, httpPost } from '../../utils';\nimport state from '../state';\n\nlet backEndRequested = false;\nobserve(state, 'contractAddress', () => (backEndRequested = false));\nobserve(\n  state,\n  'warningMessageReadOnly',\n  action(async () => {\n    // Ignore if request is already made or there are any warning messages\n    if (!!state.warningMessageReadOnly || backEndRequested) {\n      return;\n    }\n\n    backEndRequested = true;\n\n    // Request back end\n    let backEndErrors = [];\n    const responses = (await Promise.all(\n      getBackEndContracts(state).map(async meta => {\n        if (\n          !meta ||\n          !meta.url ||\n          !meta.functions ||\n          !meta.functions.find(f => f.name === state.functionName)\n        ) {\n          console.warn(\n            `Weird back end ${meta.url}, ${JSON.stringify(meta, null, 4)}`\n          );\n          return null; // Invalid back end\n        }\n        let res;\n        try {\n          res = await httpPost(`${meta.url}/request`, {\n            contractAddress: state.contractAddress,\n            signer: state.currentEthereumAccount,\n            functionName: state.functionName,\n            functionArguments: state.functionArguments\n          });\n        } catch (e) {\n          backEndErrors.push([meta.url, e]);\n          console.warn(`Weird back end, POST ${meta.url}/request:`, e);\n          return null;\n        }\n        if (\n          !res ||\n          !res.request ||\n          !res.request.id ||\n          !(res.request.signatureOptions instanceof Array) ||\n          res.request.signatureOptions.length === 0\n        ) {\n          runInAction(\n            () =>\n              (state.backendWarningMessage = WARNING_BACK_END_INVALID_RESPONSE(\n                meta.url,\n                JSON.stringify(res)\n              ))\n          );\n          return null;\n        }\n        return [res.request, meta];\n      })\n    )).filter(r => !!r);\n\n    if (\n      (backEndErrors.length > 0 && !state.backendWarningMessage) ||\n      responses.length === 0\n    ) {\n      runInAction(() => {\n        const [url, e] =\n          backEndErrors.length > 0 ? backEndErrors[0] : ['*', 'silence'];\n        state.backendWarningMessage = WARNING_BACK_END_ERROR(url, e.toString());\n      });\n      return;\n    }\n\n    const bestBackEnd = responses.reduce(\n      (best, be) => (be[0].fee < best[0].fee ? be : best),\n      responses[0]\n    );\n\n    runInAction(() => {\n      if (state.backendWarningMessage) {\n        state.backendWarningMessage = null;\n      }\n      if (bestBackEnd) {\n        state.approvedDelegationRequest = Object.assign(bestBackEnd[0], {\n          meta: toJS(bestBackEnd[1])\n        });\n      }\n    });\n  })\n);\n","import { observe, action, runInAction, toJS } from 'mobx';\nimport {\n  WARNING_BACK_END_ERROR,\n  WARNING_CONFIRMATION_BACK_END_ERROR,\n  INFO_PLEASE_SIGN,\n  INFO_PLEASE_SIGN_AGAIN,\n  INFO_PROCESSING\n} from '../../const';\nimport { httpPost, signData } from '../../utils';\nimport state from '../state';\n\nobserve(\n  state,\n  'delegationConfirmationRequestPending',\n  action(async () => {\n    // React only to pending request start\n    if (\n      state.delegationConfirmationRequestPending !== true ||\n      !state.approvedDelegationRequest\n    ) {\n      return;\n    }\n\n    // Sign with available signature standards\n    console.log(state.approvedDelegationRequest);\n    const signatureOptionsPriority = ['eth_signTypedData', 'eth_personalSign'];\n    const signOptionsByPriority = toJS(\n      state.approvedDelegationRequest.signatureOptions\n    ).sort(\n      (o1, o2) =>\n        (signatureOptionsPriority.indexOf(o2.standard) + 1 || 999) -\n        (signatureOptionsPriority.indexOf(o1.standard) + 1 || 999)\n    );\n\n    let signOption;\n    let signature = '';\n    let signatureStandard = '';\n    runInAction(() => (state.globalInfoMessage = INFO_PLEASE_SIGN));\n    while ((signOption = signOptionsByPriority.pop())) {\n      const { standard, dataToSign } = signOption;\n      signature = await signData(state, standard, dataToSign);\n      signatureStandard = standard;\n      if (signature) {\n        break;\n      }\n    }\n    if (!signature) {\n      runInAction(() => {\n        state.globalInfoMessage = INFO_PLEASE_SIGN_AGAIN(\n          toJS(state.approvedDelegationRequest.signatureOptions).map(\n            o => o.standard\n          )\n        );\n        state.delegationConfirmationRequestPending = false;\n      });\n      return;\n    } else {\n      runInAction(() => (state.globalInfoMessage = INFO_PROCESSING));\n    }\n\n    // Confirm request with signature\n    let response;\n    try {\n      response = await httpPost(\n        `${state.approvedDelegationRequest.meta.url}/confirm`,\n        {\n          requestId: state.approvedDelegationRequest.id,\n          signatureStandard,\n          signature\n        }\n      );\n    } catch (e) {\n      runInAction(() => {\n        state.globalInfoMessage = '';\n        state.globalWarningMessage = WARNING_CONFIRMATION_BACK_END_ERROR(\n          state.approvedDelegationRequest.meta.url,\n          e\n        );\n        state.delegationConfirmationRequestPending = false;\n      });\n      console.error(e);\n      return;\n    }\n\n    // Process response\n    console.log('Success!', response);\n    runInAction(() => {\n      if (!response || !response.result) {\n        state.globalWarningMessage = WARNING_BACK_END_ERROR(\n          state.approvedDelegationRequest.meta.url,\n          `Weird back end response: ${JSON.stringify(response)}`\n        );\n        return;\n      }\n      const result = response.result;\n      result.meta = state.approvedDelegationRequest.meta;\n      state.approvedDelegationResponse = result;\n    });\n  })\n);\n","import { observe, action, runInAction } from 'mobx';\nimport { utils } from 'ethers';\nimport { ethCall } from '../../utils';\nimport state from '../state';\n\nconst loadTokenMeta = action(async () => {\n  const networkName =\n    state.targetNetwork.name === 'homestead'\n      ? 'mainnet'\n      : state.targetNetwork.name;\n  let symbol, decimals;\n  try {\n    [symbol, decimals] = await Promise.all([\n      ethCall(networkName, state.contractAddress, 'symbol()'),\n      ethCall(networkName, state.contractAddress, 'decimals()')\n    ]);\n    runInAction(() => {\n      state.contractSymbolReadOnly = utils.parseBytes32String(\n        '0x' + symbol.substr(64 * 2 + 2, 64 * 2 + 2 + 64)\n      );\n      state.contractDecimalsReadOnly = parseInt(decimals);\n    });\n  } catch (e) {\n    runInAction(() => {\n      state.contractSymbolReadOnly = 'Tokens';\n      state.contractDecimalsReadOnly = 18;\n    });\n    if (symbol !== '0x') {\n      console.info('Unable to determine token symbol', e);\n    } // Otherwise it is not present in the network and it's fine\n  }\n});\n\nobserve(state, 'contractAddress', loadTokenMeta);\nobserve(state, 'targetNetwork', loadTokenMeta);\n","import { observe, action } from 'mobx';\nimport {\n  WARNING_BACK_END_INVALID_RESPONSE,\n  WARNING_TRANSACTION_FAILED,\n  INFO_TRANSACTION_MINED,\n  INFO_WAIT_FOR_TRANSACTION\n} from '../../const';\nimport { httpGet } from '../../utils';\nimport state from '../state';\n\nlet pollingInterval = 0;\nobserve(\n  state,\n  'approvedDelegationResponse',\n  action(() => {\n    clearInterval(pollingInterval);\n    if (!state.approvedDelegationResponse) {\n      return;\n    }\n    if (state.approvedDelegationResponse.status === 'mined') {\n      state.globalInfoMessage = INFO_TRANSACTION_MINED(\n        state.approvedDelegationResponse.transactionHash,\n        state.selectedNetworkNameReadOnly\n      );\n      return;\n    } else if (state.approvedDelegationResponse.status === 'failed') {\n      state.globalWarningMessage = WARNING_TRANSACTION_FAILED(\n        state.approvedDelegationResponse.id\n      );\n      return;\n    } else {\n      state.globalInfoMessage = INFO_WAIT_FOR_TRANSACTION(\n        state.approvedDelegationResponse.transactionHash,\n        state.selectedNetworkNameReadOnly\n      );\n    }\n    pollingInterval = setInterval(updateFromBackEnd, 10000);\n    // Do not update immediately but after one interval\n  })\n);\n\nasync function updateFromBackEnd() {\n  const { id, status, meta } = state.approvedDelegationResponse;\n  let actualStatus;\n  try {\n    actualStatus = await httpGet(`${meta.url}/status/${id}`);\n  } catch (e) {\n    // eslint-disable-next-line require-atomic-updates\n    state.globalWarningMessage = WARNING_BACK_END_INVALID_RESPONSE(\n      meta.url,\n      e.toString()\n    );\n    return;\n  }\n  if (!actualStatus || !actualStatus.result) {\n    // eslint-disable-next-line require-atomic-updates\n    state.globalWarningMessage = WARNING_BACK_END_INVALID_RESPONSE(\n      meta.url,\n      `weird response ${actualStatus}`\n    );\n    return;\n  }\n\n  // Process status\n  const result = actualStatus.result;\n  if (result.status === status) {\n    return;\n  }\n\n  result.meta = meta;\n  // eslint-disable-next-line require-atomic-updates\n  action(() => {\n    state.approvedDelegationResponse = result;\n  })();\n}\n","import { observe, action } from 'mobx';\nimport state from '../state';\n\nobserve(\n  state,\n  'selectedNetwork',\n  action(() => {\n    state.selectedNetworkNameReadOnly =\n      state.selectedNetwork.name === 'homestead'\n        ? 'mainnet'\n        : state.selectedNetwork.name;\n  })\n);\n","import state from './state';\nimport { action, runInAction } from 'mobx';\nimport { parse } from 'qs';\nimport {\n  DELEGATED_TX_BACK_ENDS,\n  NETWORK_BY_CHAIN_ID,\n  UNKNOWN_NETWORK,\n  WARNING_WRONG_URL_PARAMETER\n} from '../const';\nimport { httpGet, isValidEthereumAddress } from '../utils';\n\nconst url = parse(window.location.search.slice(1));\n\n/// Sync actions:\n/// - Parse URL components\n/// - Determine target network\naction(() => {\n  if (url.network) {\n    if (url.network === 'mainnet') {\n      url.network = 'homestead';\n    }\n    if (parseInt(url.network) === +url.network) {\n      state.targetNetwork = NETWORK_BY_CHAIN_ID[url.network];\n    } else {\n      state.targetNetwork = Object.values(NETWORK_BY_CHAIN_ID).find(\n        net => net.name === url.network\n      );\n    }\n    // If bad network configured\n    if (!state.targetNetwork) {\n      state.targetNetwork = UNKNOWN_NETWORK;\n      state.globalWarningMessage = WARNING_WRONG_URL_PARAMETER(\n        'network',\n        url.network\n      );\n    }\n  }\n  // Keep below network\n  if (url.contractAddress) {\n    if (isValidEthereumAddress(url.contractAddress)) {\n      state.contractAddress = url.contractAddress;\n    } else {\n      state.globalWarningMessage = WARNING_WRONG_URL_PARAMETER(\n        'contractAddress',\n        url.contractAddress\n      );\n    }\n  }\n  if (url.functionArguments) {\n    state.functionArguments = url.functionArguments.split(',');\n  }\n})();\n\n/// Fetch back ends metadata\n// Because querying back ends can take up to 30 seconds, this function throttles the responses\n// and adds them to the state once they are ready.\naction(async () => {\n  const backEndsReady = [];\n  const addBackEnds = () => {\n    runInAction(() => {\n      let backEnd, url;\n      while (([backEnd, url] = backEndsReady.pop() || []) && backEnd) {\n        state.backEndsMeta.push(backEnd);\n        if (!backEnd.contracts || !(backEnd.contracts instanceof Array)) {\n          console.warn(\n            `Back end endpoint GET ${url} does not provide contracts[]`\n          );\n        }\n        for (const contractBackEnd of backEnd.contracts || []) {\n          state.backEndsByContractReadOnly = {\n            ...state.backEndsByContractReadOnly,\n            [contractBackEnd.address]: (\n              state.backEndsByContractReadOnly[contractBackEnd.address] || []\n            ).concat({\n              ...contractBackEnd,\n              url,\n              networkChainId: backEnd.networkChainId,\n              networkName: backEnd.networkName\n            })\n          };\n        }\n      }\n    });\n  };\n  const interval = setInterval(addBackEnds, 250);\n  await Promise.all(\n    DELEGATED_TX_BACK_ENDS.map(async url => {\n      try {\n        const meta = await httpGet(url);\n        backEndsReady.push([meta, url]);\n      } catch (e) {\n        console.error(`Back end ${url} responds with error.`, e);\n      }\n    })\n  );\n  // Clear the interval once all back ends are loaded\n  clearInterval(interval);\n  addBackEnds();\n})();\n","import React from 'react';\nimport './TransferArrow.css';\n\nexport default function TransferArrow() {\n  return (\n    <div className=\"round\">\n      <div className=\"cta\">\n        <span className=\"arrow arr1 next\"></span>\n        <span className=\"arrow arr2 next\"></span>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './TokenLogo.css';\n\nexport default function TokenLogo(props) {\n  const tokenAddress =\n    props.tokenAddress || '0x82f4ded9cec9b5750fbff5c2185aee35afc16587';\n  const assetUrl = `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${tokenAddress}/logo.png`;\n  return <img className=\"token-logo-img\" src={assetUrl} alt=\"\" />;\n}\n\nTokenLogo.propTypes = {\n  tokenAddress: PropTypes.string\n};\n","import React from 'react';\nimport './WarningIcon.css';\n\nexport default function WarningIcon() {\n  return (\n    <svg\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0px\"\n      y=\"0px\"\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 554.2 554.199\"\n      className=\"warning-icon\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M538.5,386.199L356.5,70.8c-16.4-28.4-46.7-45.9-79.501-45.9c-32.8,0-63.1,17.5-79.5,45.9L12.3,391.6\n        c-16.4,28.4-16.4,63.4,0,91.8C28.7,511.8,59,529.3,91.8,529.3H462.2c0.101,0,0.2,0,0.2,0c50.7,0,91.8-41.101,91.8-91.8\n        C554.2,418.5,548.4,400.8,538.5,386.199z M316.3,416.899c0,21.7-16.7,38.3-39.2,38.3s-39.2-16.6-39.2-38.3V416\n        c0-21.601,16.7-38.301,39.2-38.301S316.3,394.3,316.3,416V416.899z M317.2,158.7L297.8,328.1c-1.3,12.2-9.4,19.8-20.7,19.8\n        s-19.4-7.7-20.7-19.8L237,158.6c-1.3-13.1,5.801-23,18-23H299.1C311.3,135.7,318.5,145.6,317.2,158.7z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport './InfoIcon.css';\n\nexport default function InfoIcon() {\n  return (\n    <svg\n      version=\"1.1\"\n      x=\"0px\"\n      y=\"0px\"\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 23.625 23.625\"\n      className=\"info-icon\"\n    >\n      <g>\n        <path\n          fill=\"currentColor\"\n          d=\"M11.812,0C5.289,0,0,5.289,0,11.812s5.289,11.813,11.812,11.813s11.813-5.29,11.813-11.813\n        S18.335,0,11.812,0z M14.271,18.307c-0.608,0.24-1.092,0.422-1.455,0.548c-0.362,0.126-0.783,0.189-1.262,0.189\n        c-0.736,0-1.309-0.18-1.717-0.539s-0.611-0.814-0.611-1.367c0-0.215,0.015-0.435,0.045-0.659c0.031-0.224,0.08-0.476,0.147-0.759\n        l0.761-2.688c0.067-0.258,0.125-0.503,0.171-0.731c0.046-0.23,0.068-0.441,0.068-0.633c0-0.342-0.071-0.582-0.212-0.717\n        c-0.143-0.135-0.412-0.201-0.813-0.201c-0.196,0-0.398,0.029-0.605,0.09c-0.205,0.063-0.383,0.12-0.529,0.176l0.201-0.828\n        c0.498-0.203,0.975-0.377,1.43-0.521c0.455-0.146,0.885-0.218,1.29-0.218c0.731,0,1.295,0.178,1.692,0.53\n        c0.395,0.353,0.594,0.812,0.594,1.376c0,0.117-0.014,0.323-0.041,0.617c-0.027,0.295-0.078,0.564-0.152,0.811l-0.757,2.68\n        c-0.062,0.215-0.117,0.461-0.167,0.736c-0.049,0.275-0.073,0.485-0.073,0.626c0,0.356,0.079,0.599,0.239,0.728\n        c0.158,0.129,0.435,0.194,0.827,0.194c0.185,0,0.392-0.033,0.626-0.097c0.232-0.064,0.4-0.121,0.506-0.17L14.271,18.307z\n        M14.137,7.429c-0.353,0.328-0.778,0.492-1.275,0.492c-0.496,0-0.924-0.164-1.28-0.492c-0.354-0.328-0.533-0.727-0.533-1.193\n        c0-0.465,0.18-0.865,0.533-1.196c0.356-0.332,0.784-0.497,1.28-0.497c0.497,0,0.923,0.165,1.275,0.497\n        c0.353,0.331,0.53,0.731,0.53,1.196C14.667,6.703,14.49,7.101,14.137,7.429z\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.css';\n\nexport default function Button(props) {\n  const { loading, ...rest } = props;\n  return (\n    <button {...rest}>\n      {[\n        loading ? (\n          <div className=\"la-ball-spin-clockwise la-sm\" key=\"la-first\">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n          </div>\n        ) : null\n      ].concat(props.children)}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.any,\n  loading: PropTypes.bool\n};\n","import { providers } from 'ethers';\n\nexport async function wrapEthersProvider(\n  web3Provider = null,\n  reportStatus = () => {}\n) {\n  if (!web3Provider) {\n    web3Provider = await getWeb3Provider(reportStatus);\n  }\n  return new providers.Web3Provider(web3Provider.currentProvider);\n}\n\nexport async function getWeb3Provider(reportStatus) {\n  // const timeout = setTimeout(\n  //   () =>\n  //     new Toast(\n  //       'Please, sign in with your crypto wallet',\n  //       Toast.TYPE_INFO,\n  //       Toast.TIME_LONG\n  //     ),\n  //   5000\n  // );\n\n  if (window.ethereum) {\n    window.web3 = new window.Web3(window.ethereum);\n    try {\n      reportStatus('Please, allow an access to this page in your wallet');\n      await window.ethereum.enable();\n    } catch (error) {\n      // clearTimeout(timeout);\n      throw new Error(\"You've denied the access to see your account address.\");\n    }\n  } else if (window.web3) {\n    window.web3 = new window.Web3(window.web3.currentProvider);\n  } else {\n    // clearTimeout(timeout);\n    return null;\n  }\n\n  // clearTimeout(timeout);\n\n  return window.web3;\n}\n","import React from 'react';\nimport { action, runInAction } from 'mobx';\nimport { observer } from 'mobx-react';\nimport './App.css';\nimport { state } from './state';\nimport TransferArrow from './components/TransferArrow';\nimport TokenLogo from './components/TokenLogo';\nimport WarningIcon from './components/WarningIcon';\nimport InfoIcon from './components/InfoIcon';\nimport Button from './components/Button';\nimport {\n  formatEthereumAddress,\n  formatTokenValue,\n  getBackEndContracts\n} from './utils';\nimport {\n  NETWORK_BY_CHAIN_ID,\n  UNKNOWN_NETWORK,\n  WARNING_UNKNOWN_NETWORK,\n  WARNING_WRONG_NETWORK,\n  WARNING_CUSTOM_MESSAGE,\n  WARNING_UNABLE_TO_CONNECT_WEB3\n} from './const';\nimport { getWeb3Provider, wrapEthersProvider } from './modules/ethereum';\n\nconst getContractNetworks = () =>\n  getBackEndContracts(state).map(b => NETWORK_BY_CHAIN_ID[b.networkChainId]);\nconst isCurrentNetworkTarget = () =>\n  state.selectedNetwork.chainId === state.targetNetwork.chainId;\nconst isButtonActive = () =>\n  !state.warningMessageReadOnly &&\n  state.approvedDelegationRequest &&\n  !state.delegationConfirmationRequestPending;\n\nclass App extends React.PureComponent {\n  state = {\n    tick: 0\n  };\n\n  accountUpdateTimeout = 1;\n  web3Provider = null;\n  tickerInterval = 0;\n\n  ticker = () => {\n    if (!state.approvedDelegationRequest) {\n      return;\n    }\n    this.setState({\n      tick: this.state.tick + 1\n    });\n  };\n\n  updateFromProvider = action(async () => {\n    if (!state.ethersProvider) {\n      // Displays default initWarningMessage\n      return;\n    }\n    const account = (await state.ethersProvider.listAccounts())[0];\n    let network;\n    // this.provider.getNetwork() always returns the same net, looks like a bug in Ethers.js. Using the native method\n    do {\n      // eslint-disable-next-line require-atomic-updates\n      network = await new Promise((res, rej) =>\n        this.web3Provider.version.getNetwork((e, r) => (e ? rej(e) : res(r)))\n      );\n      if (!NETWORK_BY_CHAIN_ID[network]) {\n        runInAction(\n          () => (state.networkWarningMessage = WARNING_UNKNOWN_NETWORK(network))\n        );\n        await new Promise(r => setTimeout(r, 5000));\n      }\n    } while (!NETWORK_BY_CHAIN_ID[network]);\n\n    runInAction(() => {\n      // Update account\n      if (state.currentEthereumAccount !== account) {\n        state.currentEthereumAccount = account;\n      }\n\n      // Update selected network\n      if (+network !== state.selectedNetwork.chainId) {\n        state.selectedNetwork = NETWORK_BY_CHAIN_ID[network] || UNKNOWN_NETWORK;\n      }\n\n      // Make Target Network a network which has the selected contract.\n      const contractsInOtherNetworks = getContractNetworks().filter(\n        net => net.chainId !== state.targetNetwork.chainId\n      );\n      if (\n        contractsInOtherNetworks.length &&\n        state.targetNetwork.chainId !== contractsInOtherNetworks[0].chainId\n      ) {\n        state.targetNetwork = contractsInOtherNetworks[0];\n      }\n\n      // Target network warning\n      if (!isCurrentNetworkTarget()) {\n        if (!state.networkWarningMessage) {\n          state.networkWarningMessage = WARNING_WRONG_NETWORK(\n            state.targetNetwork.name,\n            state.selectedNetwork.name\n          );\n        }\n      } else {\n        state.networkWarningMessage = null;\n      }\n    });\n\n    if (this.accountUpdateTimeout > 0) {\n      this.accountUpdateTimeout = setTimeout(this.updateFromProvider, 100); // Loop\n    }\n  });\n\n  componentDidMount = action(async () => {\n    this.tickerInterval = setInterval(this.ticker, 1000);\n    try {\n      this.web3Provider = await getWeb3Provider(message =>\n        runInAction(\n          () => (state.initWarningMessage = WARNING_CUSTOM_MESSAGE(message))\n        )\n      );\n      if (!this.web3Provider) {\n        // Show default initWarningMessage\n        return;\n      }\n      let provider = await wrapEthersProvider(this.web3Provider);\n      runInAction(() => {\n        state.initWarningMessage = null;\n        state.ethersProvider = provider;\n      });\n      await this.updateFromProvider();\n      console.log('Provider', provider);\n    } catch (e) {\n      runInAction(\n        () =>\n          (state.initWarningMessage = WARNING_UNABLE_TO_CONNECT_WEB3(\n            e.toString()\n          ))\n      );\n      console.error(e);\n    }\n  });\n\n  componentWillUnmount() {\n    clearTimeout(this.accountUpdateTimeout);\n    clearInterval(this.tickerInterval);\n    this.accountUpdateTimeout = 0;\n  }\n\n  actionButtonClick = action(async () => {\n    if (!isButtonActive()) {\n      return;\n    }\n    // There is a reaction on changing this prop which enables signing / back end request\n    runInAction(() => (state.delegationConfirmationRequestPending = true));\n  });\n\n  render() {\n    const sender = formatEthereumAddress(state.currentEthereumAccount);\n    const {\n      contractAddress,\n      contractSymbolReadOnly,\n      functionArguments,\n      contractDecimalsReadOnly,\n      approvedDelegationRequest\n    } = state;\n    const recipient = formatEthereumAddress(\n      (functionArguments && functionArguments.length && functionArguments[0]) ||\n        '0x6f8103606b649522aF9687e8f1e7399eff8c4a6B'\n    );\n    const value = formatTokenValue(\n      (functionArguments && functionArguments.length && functionArguments[1]) ||\n        Math.pow(10, contractDecimalsReadOnly).toString(),\n      contractDecimalsReadOnly\n    );\n    const fee = formatTokenValue(\n      (approvedDelegationRequest && approvedDelegationRequest.fee) || 0,\n      contractDecimalsReadOnly\n    );\n    let warning = state.warningMessageReadOnly;\n    const isLoading =\n      !warning &&\n      (!state.approvedDelegationRequest ||\n        state.delegationConfirmationRequestPending);\n    const expiresIn = !state.approvedDelegationRequest\n      ? ''\n      : new Date(\n          new Date(state.approvedDelegationRequest.expiresAt).getTime() -\n            Date.now() +\n            new Date().getTimezoneOffset() * 60 * 1000\n        )\n          .toTimeString()\n          .replace(/\\s.*$/, '')\n          .replace(/^00:/, '');\n\n    return (\n      <div className=\"app\">\n        <section className=\"app-body\">\n          <h1 className=\"head-title\">Transfer</h1>\n          <div className=\"token-info\">\n            {value} <TokenLogo tokenAddress={contractAddress} />{' '}\n            {contractSymbolReadOnly}\n          </div>\n          <div className=\"sender-and-recipient-block\">\n            <div>\n              <div>\n                <input value={sender} disabled />\n              </div>\n              <div className=\"address-sub\">Sender (You)</div>\n            </div>\n            <TransferArrow />\n            <div>\n              <div>\n                <input value={recipient} disabled />\n              </div>\n              <div className=\"address-sub\">Recipient</div>\n            </div>\n          </div>\n          <div className=\"spec-table\">\n            <div className=\"spec-table-row\">\n              <div>Fee for Sender</div>\n              <div className=\"strong\">\n                {fee} <TokenLogo tokenAddress={contractAddress} />{' '}\n                {contractSymbolReadOnly}\n              </div>\n            </div>\n            {!state.approvedDelegationRequest ? null : (\n              <div className=\"spec-table-row\">\n                <div>Fee Expires In</div>\n                <div>{expiresIn}</div>\n              </div>\n            )}\n            <div className=\"spec-table-row\">\n              <div>Confirmation Time</div>\n              <div>~3 minutes</div>\n            </div>\n          </div>\n          {(warning || state.globalInfoMessage) && (\n            <div\n              className={\n                'warning-message' +\n                (!warning && state.globalInfoMessage ? ' info' : '')\n              }\n            >\n              {warning ? <WarningIcon /> : <InfoIcon />}{' '}\n              {warning || state.globalInfoMessage}\n            </div>\n          )}\n          {state.approvedDelegationResponse &&\n          state.approvedDelegationResponse.status === 'mined' ? null : (\n            <div className=\"center\">\n              <Button\n                className={(!isButtonActive() && 'unavailable') || ''}\n                loading={isLoading}\n                onClick={this.actionButtonClick}\n              >\n                {state.approvedDelegationResponse &&\n                (state.approvedDelegationResponse.status === 'new' ||\n                  state.approvedDelegationResponse.status === 'mining' ||\n                  state.approvedDelegationResponse.status === 'confirmed')\n                  ? 'Waiting'\n                  : 'Confirm'}\n              </Button>\n            </div>\n          )}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default observer(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}